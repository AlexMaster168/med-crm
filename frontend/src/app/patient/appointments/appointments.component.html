<div class="card">
  <h2>Мои записи на прием</h2>
  <table *ngIf="appointments.length > 0">
    <thead>
      <tr>
        <th>Дата и время</th>
        <th>Врач</th>
        <th>Специализация</th>
        <th>Причина</th>
        <th>Статус</th>
        <th>Действия</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let appointment of appointments">
        <td>{{ appointment.dateTime | date:'dd.MM.yyyy HH:mm' }}</td>
        <td>{{ (appointment.doctorId as any).firstName }} {{ (appointment.doctorId as any).lastName }}</td>
        <td>{{ (appointment.doctorId as any).specialization }}</td>
        <td>{{ appointment.reason }}</td>
        <td>{{ appointment.status }}</td>
        <td>
          <button class="btn btn-danger" (click)="cancelAppointment(appointment._id)" 
                  *ngIf="appointment.status === 'scheduled'">
            Отменить
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <p *ngIf="appointments.length === 0">У вас нет записей</p>
</div>