{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/appointment.service\";\nimport * as i3 from \"../../services/user.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = () => ({\n  exact: true\n});\nfunction DoctorDashboardComponent_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 23)(7, \"div\", 24)(8, \"strong\");\n    i0.ɵɵtext(9, \"\\u0414\\u0430\\u0442\\u0430:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 24)(12, \"strong\");\n    i0.ɵɵtext(13, \"\\u0412\\u0440\\u0435\\u043C\\u044F:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 24)(16, \"strong\");\n    i0.ɵɵtext(17, \"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 24)(20, \"strong\");\n    i0.ɵɵtext(21, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 25)(24, \"button\", 26);\n    i0.ɵɵtext(25, \" \\u041F\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u0443 \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const appointment_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", appointment_r2.patient.firstName, \" \", appointment_r2.patient.lastName, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(appointment_r2.status);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.getStatusName(appointment_r2.status));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatDate(appointment_r2.date), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r2.time, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r2.reason || \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u0430\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r2.patient.phone || \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/doctor/appointment/\", appointment_r2._id, \"\");\n  }\n}\nfunction DoctorDashboardComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, DoctorDashboardComponent_div_25_div_1_Template, 26, 11, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.appointments);\n  }\n}\nfunction DoctorDashboardComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 27);\n    i0.ɵɵtext(1, \"\\u041D\\u0435\\u0442 \\u043F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\\u0445 \\u043F\\u0440\\u0438\\u0435\\u043C\\u043E\\u0432\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DoctorDashboardComponent_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 31)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 26);\n    i0.ɵɵtext(9, \" \\u041C\\u0435\\u0434\\u0438\\u0446\\u0438\\u043D\\u0441\\u043A\\u0430\\u044F \\u043A\\u0430\\u0440\\u0442\\u0430 \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const patient_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", patient_r4.firstName, \" \", patient_r4.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r4.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r4.phone);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/doctor/patient/\", patient_r4.id, \"\");\n  }\n}\nfunction DoctorDashboardComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, DoctorDashboardComponent_div_31_div_1_Template, 10, 6, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.patients);\n  }\n}\nfunction DoctorDashboardComponent_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 27);\n    i0.ɵɵtext(1, \"\\u0423 \\u0432\\u0430\\u0441 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let DoctorDashboardComponent = /*#__PURE__*/(() => {\n  class DoctorDashboardComponent {\n    constructor(authService, appointmentService, userService, router) {\n      this.authService = authService;\n      this.appointmentService = appointmentService;\n      this.userService = userService;\n      this.router = router;\n      this.currentUser = null;\n      this.appointments = [];\n      this.patients = [];\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.getCurrentUser();\n      this.loadAppointments();\n      this.loadPatients();\n    }\n    loadAppointments() {\n      this.appointmentService.getAppointments().subscribe({\n        next: data => {\n          this.appointments = data.filter(apt => apt.status === 'scheduled');\n        }\n      });\n    }\n    loadPatients() {\n      this.userService.getMyPatients().subscribe({\n        next: data => {\n          this.patients = data;\n        }\n      });\n    }\n    getSpecialtyName(specialty) {\n      const specialties = {\n        therapist: 'Терапевт',\n        surgeon: 'Хирург',\n        cardiologist: 'Кардиолог',\n        neurologist: 'Невролог',\n        dermatologist: 'Дерматолог',\n        pediatrician: 'Педиатр',\n        ophthalmologist: 'Офтальмолог',\n        psychiatrist: 'Психиатр'\n      };\n      return specialty ? specialties[specialty] : '';\n    }\n    getStatusName(status) {\n      const statuses = {\n        scheduled: 'Запланировано',\n        completed: 'Завершено',\n        cancelled: 'Отменено'\n      };\n      return statuses[status] || status;\n    }\n    formatDate(date) {\n      return new Date(date).toLocaleDateString('ru-RU');\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n    static {\n      this.ɵfac = function DoctorDashboardComponent_Factory(t) {\n        return new (t || DoctorDashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AppointmentService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DoctorDashboardComponent,\n        selectors: [[\"app-doctor-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 34,\n        vars: 9,\n        consts: [[\"noAppointments\", \"\"], [\"noPatients\", \"\"], [1, \"dashboard\"], [1, \"header\"], [1, \"header-content\"], [1, \"user-info\"], [1, \"specialty\"], [1, \"btn-logout\", 3, \"click\"], [1, \"content\"], [1, \"sidebar\"], [\"routerLink\", \"/doctor\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\"], [\"routerLink\", \"/doctor/patients\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/doctor/profile\", \"routerLinkActive\", \"active\"], [1, \"main-content\"], [1, \"appointments-section\"], [\"class\", \"appointments-list\", 4, \"ngIf\", \"ngIfElse\"], [1, \"patients-section\"], [\"class\", \"patients-list\", 4, \"ngIf\", \"ngIfElse\"], [1, \"appointments-list\"], [\"class\", \"appointment-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"appointment-card\"], [1, \"appointment-header\"], [1, \"status\"], [1, \"appointment-details\"], [1, \"detail\"], [1, \"appointment-actions\"], [1, \"btn-view\", 3, \"routerLink\"], [1, \"no-data\"], [1, \"patients-list\"], [\"class\", \"patient-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"patient-card\"], [1, \"patient-info\"]],\n        template: function DoctorDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 2)(1, \"header\", 3)(2, \"div\", 4)(3, \"h1\");\n            i0.ɵɵtext(4, \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0432\\u0440\\u0430\\u0447\\u0430\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"div\", 5)(6, \"span\");\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"span\", 6);\n            i0.ɵɵtext(9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function DoctorDashboardComponent_Template_button_click_10_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.logout());\n            });\n            i0.ɵɵtext(11, \"\\u0412\\u044B\\u0445\\u043E\\u0434\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9)(14, \"nav\")(15, \"a\", 10);\n            i0.ɵɵtext(16, \" \\u041C\\u043E\\u0438 \\u043F\\u0440\\u0438\\u0435\\u043C\\u044B \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"a\", 11);\n            i0.ɵɵtext(18, \" \\u041C\\u043E\\u0438 \\u043F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\\u044B \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"a\", 12);\n            i0.ɵɵtext(20, \" \\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(21, \"main\", 13)(22, \"div\", 14)(23, \"h2\");\n            i0.ɵɵtext(24, \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\\u0435 \\u043F\\u0440\\u0438\\u0435\\u043C\\u044B\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(25, DoctorDashboardComponent_div_25_Template, 2, 1, \"div\", 15)(26, DoctorDashboardComponent_ng_template_26_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"div\", 16)(29, \"h2\");\n            i0.ɵɵtext(30, \"\\u041C\\u043E\\u0438 \\u043F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\\u044B\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(31, DoctorDashboardComponent_div_31_Template, 2, 1, \"div\", 17)(32, DoctorDashboardComponent_ng_template_32_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            const noAppointments_r5 = i0.ɵɵreference(27);\n            const noPatients_r6 = i0.ɵɵreference(33);\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate2(\"\", ctx.currentUser == null ? null : ctx.currentUser.firstName, \" \", ctx.currentUser == null ? null : ctx.currentUser.lastName, \"\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.getSpecialtyName(ctx.currentUser == null ? null : ctx.currentUser.specialty));\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(8, _c0));\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngIf\", ctx.appointments.length > 0)(\"ngIfElse\", noAppointments_r5);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.patients.length > 0)(\"ngIfElse\", noPatients_r6);\n          }\n        },\n        dependencies: [CommonModule, i5.NgForOf, i5.NgIf, RouterModule, i4.RouterLink, i4.RouterLinkActive],\n        styles: [\".dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa}.header[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2px 8px #0000001a;padding:20px 0}.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin:0}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.specialty[_ngcontent-%COMP%]{color:#667eea;font-weight:500}.btn-logout[_ngcontent-%COMP%]{padding:8px 20px;background:#e74c3c;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px}.content[_ngcontent-%COMP%]{max-width:1400px;margin:30px auto;padding:0 20px;display:grid;grid-template-columns:250px 1fr;gap:30px}.sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;height:-moz-fit-content;height:fit-content;box-shadow:0 2px 8px #0000001a}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 16px;color:#555;text-decoration:none;border-radius:8px;transition:all .3s}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f5f7fa}.sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.appointments-section[_ngcontent-%COMP%], .patients-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:20px}.appointments-list[_ngcontent-%COMP%], .patients-list[_ngcontent-%COMP%]{display:grid;gap:20px}.appointment-card[_ngcontent-%COMP%], .patient-card[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:10px;padding:20px;transition:all .3s}.appointment-card[_ngcontent-%COMP%]:hover, .patient-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea1a}.appointment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.appointment-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:20px;margin:0}.status[_ngcontent-%COMP%]{padding:6px 14px;border-radius:20px;font-size:13px;font-weight:500}.status.scheduled[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.status.completed[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.status.cancelled[_ngcontent-%COMP%]{background:#ffebee;color:#d32f2f}.appointment-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:15px}.detail[_ngcontent-%COMP%]{color:#666;font-size:14px}.detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-right:5px}.appointment-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}.btn-view[_ngcontent-%COMP%]{padding:10px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:transform .2s}.btn-view[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.patient-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.patient-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:18px;margin:0 0 8px}.patient-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0}.no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px;font-size:16px}\"]\n      });\n    }\n  }\n  return DoctorDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}