# Быстрый старт Medical CRM

## Минимальная установка

### 1. Установите зависимости (один раз)

```bash
# Глобальные инструменты
npm install -g @nestjs/cli @angular/cli

# Убедитесь что MongoDB запущена
sudo systemctl start mongodb
```

### 2. Распакуйте и установите проект

```bash
tar -xzf medical-crm.tar.gz
cd medical-crm

# Backend
cd backend
npm install
npm run seed

# В новом терминале - Frontend
cd ../frontend
npm install
```

### 3. Запустите приложение

```bash
# Терминал 1 - Backend
cd backend
npm run start:dev

# Терминал 2 - Frontend
cd frontend
ng serve
```

### 4. Откройте браузер

`http://localhost:4200`

**Тестовые учетные данные:**
- Врач: `petrov@hospital.com` / `password123`
- Пациент: `ivanova@mail.com` / `password123`

## Функционал

### Пациент может:
✅ Просматривать доступных врачей по специализации
✅ Записываться на прием к врачу
✅ Просматривать свою медицинскую карту
✅ Заключить договор с терапевтом (семейный врач)
✅ Отменять записи

### Врач может:
✅ Просматривать записи пациентов на прием
✅ Завершать приемы
✅ Просматривать медкарты пациентов
✅ Добавлять записи в медкарты (симптомы, диагноз, лечение)
✅ Просматривать список своих пациентов (для терапевтов)

## Особенности

- **JWT аутентификация** с access и refresh токенами
- **Восстановление пароля** через SMTP (настройте в .env)
- **Роли**: Пациент и Врач с разными правами доступа
- **Специализации врачей**: Хирург, Терапевт, Кардиолог, Невролог и др.
- **Автоматическая загрузка тестовых данных**: 10 записей при первом запуске

## Технологии

**Backend:**
- NestJS (Node.js framework)
- MongoDB (база данных)
- JWT (аутентификация)
- Nodemailer (email отправка)
- bcrypt (хеширование паролей)

**Frontend:**
- Angular 17
- TypeScript
- RxJS
- HttpClient

## Проблемы?

1. **MongoDB не запускается**: `sudo systemctl start mongodb`
2. **Порт занят**: измените PORT в backend/.env
3. **SMTP ошибка**: используйте пароль приложения Gmail
4. **Нужно пересоздать данные**: `cd backend && npm run seed`

